# Конфигурационный файл для Gunicorn WSGI сервера
# Настройки для Flask приложения с нейросетями и обработкой изображений

# 120 секунд достаточно для обработки больших изображений и работы нейросети
timeout = 120
# 'sync' - синхронные воркеры, подходят для приложений с блокирующими операциями
# (нейросети, обработка изображений) и обеспечивают стабильность
worker_class = 'sync'
# Количество воркеров процессов
workers = 1
# Предзагрузка приложения до форка воркеров
# True - приложение загружается один раз и затем копируется в дочерние процессы
# Значительно ускоряет запуск и уменьшает потребление памяти
# Особенно важно для тяжелых моделей нейросетей (ResNet)
preload_app = True
